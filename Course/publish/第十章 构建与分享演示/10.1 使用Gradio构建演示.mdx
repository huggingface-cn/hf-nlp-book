## 10.1 ä½¿ç”¨Graadioæ„å»ºæ¼”ç¤º 

è®©æˆ‘ä»¬ä»å®‰è£… Gradio å¼€å§‹å§ï¼ç”±äºå®ƒæ˜¯ä¸€ä¸ª Python åŒ…ï¼Œåªéœ€è¿è¡Œï¼š

```python
pip install gradio

```

ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ Gradioï¼Œæ— è®ºæ˜¯ä»ä½ æœ€å–œæ¬¢çš„ Python IDEã€Jupyter notebook è¿˜æ˜¯ Google Colab ğŸ¤¯ï¼

æ‰€ä»¥æ— è®ºä½ åœ¨å“ªé‡Œè¿è¡Œ Pythonï¼Œéƒ½å¯ä»¥å®‰è£… Gradioï¼

è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„â€œHello Worldâ€ç¤ºä¾‹å¼€å§‹ï¼Œç†Ÿæ‚‰ Gradio è¯­æ³•ï¼š

```python
import gradio as gr

def greet(name):
    return "Hello " + name

demo = gr.Interface(fn=greet, inputs="text", outputs="text")

demo.launch()
```

è®©æˆ‘ä»¬é€æ­¥è§£é‡Šä¸Šé¢çš„ä»£ç ï¼š

- é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸º `greet()` çš„å‡½æ•°ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªåœ¨ä½ çš„åå­—å‰æ·»åŠ â€œHelloâ€çš„ç®€å•å‡½æ•°ï¼Œä½†å®ƒå¯ä»¥æ˜¯ä»»ä½•çš„ Python å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨æœºå™¨å­¦ä¹ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¯¥å‡½æ•°ä¼šè°ƒç”¨æ¨¡å‹å¯¹è¾“å…¥è¿›è¡Œé¢„æµ‹å¹¶è¿”å›è¾“å‡ºã€‚
- ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ä¸‰ä¸ªå‚æ•° `fn` ã€ `inputs` å’Œ `outputs` çš„ Gradio `Interface` ã€‚è¿™äº›å‚æ•°å®šä¹‰äº†é¢„æµ‹å‡½æ•°ï¼Œä»¥åŠæˆ‘ä»¬æƒ³è¦çš„è¾“å…¥å’Œè¾“å‡ºç»„ä»¶çš„ç±»å‹ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä¸¤ä¸ªç»„ä»¶éƒ½æ˜¯ç®€å•çš„æ–‡æœ¬æ¡†ã€‚
- ç„¶åæˆ‘ä»¬åœ¨æˆ‘ä»¬åˆ›å»ºçš„ `Interface` ä¸Šçš„ `launch()` æ–¹æ³•ã€‚

å¦‚æœä½ è¿è¡Œè¿™æ®µä»£ç ï¼Œä¸‹é¢çš„ç•Œé¢ä¼šè‡ªåŠ¨å‡ºç°åœ¨ Jupyter/Colab notebook ä¸­ï¼Œæˆ–è€…åœ¨æµè§ˆå™¨ä¸­å¼¹å‡º ** [http://localhost:7860](http://localhost:7860)(http://localhost:7860) ** å¦‚æœè¿è¡Œ ä»ä¸€ä¸ªè„šæœ¬ã€‚

ç°åœ¨ï¼Œè¯•ç€ä½¿ç”¨ä½ è‡ªå·±çš„åå­—æˆ–å…¶ä»–è¾“å…¥æ¥ä½¿ç”¨è¿™ä¸ª GUIï¼

ä½ ä¼šæ³¨æ„åˆ°ï¼Œåœ¨è¿™ä¸ª GUI ä¸­ï¼ŒGradio è‡ªåŠ¨æ¨æ–­è¾“å…¥å‚æ•°çš„åç§° ï¼ˆ `name` ï¼‰å¹¶å°†å…¶è®¾ç½®ä¸ºæ–‡æœ¬æ¡†é¡¶éƒ¨çš„æ ‡ç­¾ã€‚å¦‚æœä½ æƒ³æ”¹å˜å®ƒæ€ä¹ˆåŠï¼Ÿæˆ–è€…ï¼Œå¦‚æœä½ æƒ³ä»¥å…¶ä»–æ–¹å¼è‡ªå®šä¹‰æ–‡æœ¬æ¡†ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å®ä¾‹åŒ–ä¸€ä¸ªè¡¨ç¤ºè¾“å…¥ç»„ä»¶çš„ç±»å¯¹è±¡ã€‚

çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```python
import gradio as gr

def greet(name):
    return "Hello " + name

## æˆ‘ä»¬å°†æ–‡æœ¬æ¡†ç±»å®ä¾‹åŒ–
textbox = gr.Textbox(label="Type your name here:", placeholder="John Doe", lines=2)

gr.Interface(fn=greet, inputs=textbox, outputs="text").launch()
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾ã€å ä½ç¬¦å’Œå›ºå®šè¡Œæ•°çš„è¾“å…¥æ–‡æœ¬æ¡†ã€‚ä½ å¯ä»¥å¯¹è¾“å‡ºæ–‡æœ¬æ¡†åšåŒæ ·çš„æ“ä½œï¼Œä½†æˆ‘ä»¬ç°åœ¨å…ˆä¸ç®¡å®ƒã€‚

æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œåªéœ€å‡ è¡Œä»£ç ï¼ŒGradio å°±èƒ½è®©ä½ å›´ç»•ä»»ä½•å‡½æ•°åˆ›å»ºä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œæ— è®ºå®ƒæœ‰ä»€ä¹ˆæ ·çš„è¾“å…¥æˆ–è¾“å‡ºã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ¡†å¼€å§‹ï¼Œä½†åœ¨æ¥ä¸‹æ¥çš„èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å…¶ä»–ç±»å‹çš„è¾“å…¥å’Œè¾“å‡ºã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨ Gradio åº”ç”¨ä¸­åŒ…å«ä¸€äº›è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ã€‚

### ğŸ¤– åŒ…æ‹¬æ¨¡å‹é¢„æµ‹ 

ç°åœ¨è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œè®©ä½ å¯ä»¥æ¼”ç¤ºåƒ GPT-2 è¿™æ ·çš„**æ–‡æœ¬ç”Ÿæˆ**æ¨¡å‹ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ Transformers ä¸­çš„ `pipeline()` å‡½æ•°åŠ è½½æˆ‘ä»¬çš„æ¨¡å‹ã€‚
å¦‚æœä½ éœ€è¦å¿«é€Ÿå¤ä¹ ï¼Œä½ å¯ä»¥è¿”å›åˆ°ç¬¬äºŒç« ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªé¢„æµ‹å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªæ–‡æœ¬æç¤ºå¹¶è¿”å›æ–‡æœ¬å®Œæˆçš„ç»“æœï¼š

```python
from transformers import pipeline

model = pipeline("text-generation")

def predict(prompt):
    completion = model(prompt)[0]["generated_text"]
    return completion
```

æ­¤å‡½æ•°å®Œæˆä½ æä¾›çš„æç¤ºï¼Œä½ å¯ä»¥ä½¿ç”¨è‡ªå·±çš„è¾“å…¥æç¤ºè¿è¡Œå®ƒä»¥æŸ¥çœ‹å®ƒæ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ˆä½ å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼‰ï¼š

```python
predict("My favorite programming language is")
```

```python
>> My favorite programming language is Haskell. I really enjoyed the Haskell language, but it doesn't have all the features that can be applied to any other language. For example, all it does is compile to a byte array.
```

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªç”Ÿæˆé¢„æµ‹çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¹‹å‰ä¸€æ ·åˆ›å»ºå’Œå¯åŠ¨ä¸€ä¸ª `Interface` ï¼š

```python
import gradio as gr

gr.Interface(fn=predict, inputs="text", outputs="text").launch()
```

å°±æ˜¯è¿™æ ·ï¼ä½ ç°åœ¨å¯ä»¥ä½¿ç”¨æ­¤æ¥å£ä½¿ç”¨ GPT-2 æ¨¡å‹ç”Ÿæˆæ–‡æœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤º ğŸ¤¯ï¼š

ç»§ç»­é˜…è¯»ä»¥äº†è§£å¦‚ä½•ä½¿ç”¨ Gradio æ„å»ºå…¶ä»–ç±»å‹çš„æ¼”ç¤ºï¼